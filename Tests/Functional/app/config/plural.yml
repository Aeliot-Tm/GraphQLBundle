imports:
    - { resource: config.yml }

services:
    overblog_graphql.test.resolver.plural:
        class: Overblog\GraphQLBundle\Tests\Functional\app\Resolver\PluralResolver
        tags:
            - { name: "overblog_graphql.resolver", alias: "plural_single_input", method: "resolveSingleInput" }

overblog_graphql:
    definitions:
        schema:
            query: Query
            mutation: ~
        types:
            Query:
                type: object
                config:
                    fields:
                        usernames:
                            builder: PluralIdentifyingRoot
                            builderConfig:
                                argName: 'usernames'
                                description: 'Map from a username to the user'
                                inputType: String
                                outputType: User
                                resolveSingleInput: '@=resolver("plural_single_input", [value, info])'

            User:
                type: object
                config:
                    fields:
                        username:
                            type: String
                        url:
                            type: String
